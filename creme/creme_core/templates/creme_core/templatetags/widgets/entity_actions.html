{% load i18n creme_widgets %}
<ul class="row-actions-list">
    {% if actions.others %}
    <li class="row-actions-trigger" title="{% blocktrans %}Display the available actions for «&nbsp;{{entity}}&nbsp;»{% endblocktrans %}">
        <div class="listview-actions-container">
            {% for action in actions.others %}
            <div class="listview-action">
                {% if action.is_allowed %}
                <a href="{{action.url}}" {{action.attrs}}>
                    {% if action.icon %}{% widget_icon name=action.icon label=action.text size='listview-menu' class='listview-action-icon' %}{% endif %}
                    {{action.text}}
                </a>
                {% else %}
                <span class="forbidden">
                    {% if action.icon %}{% widget_icon name=action.icon label=action.text size='listview-menu' class='listview-action-icon' %}{% endif %}
                    {{action.text}} ({% trans 'forbidden' %})
                </span>
                {% endif %}
            </div>
            {% endfor %}
        </div>
    </li>
    {% endif %}
    <li class="listview-action default-row-action">
        {% with actions.default as action %}
        {% if action %}
        <a href="{{action.url}}" title="{{action.verbose}}">
            {% if action.icon %}{% widget_icon name=action.icon label=action.text size='listview-menu' class='listview-action-icon' %}{% endif %}
            {{action.text}}
        </a>
        {% else %}
        <a>{% trans 'Actions' %}</a>
        {% endif %}
        {% endwith %}
    </li>
</ul>
