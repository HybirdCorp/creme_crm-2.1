{% extends "creme_core/generics/portal.html" %}
{% load i18n %}
{% load creme_core_tags %}
{% block logo %}<img src="{% creme_media_url 'images/config_64.png' %}" alt="{% trans "Configuration" %}"/>{% endblock %}
{% block title %}{% trans "Creme configuration portal" %}{% endblock %}
{% block header_link %}{% endblock %}
{% block creme_blocks_import %}{% endblock %}

{% block before_statistics %}
    <table class="table_detail_view ui-corner-all"><!--{% cycle "block_line_light" "block_line_dark" as row_color %}-->
        <thead>
            <tr>
                <th colspan="1">{% trans "General" %}</th>
            </tr>
        </thead>
        <tbody class="collapsable">
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/relation_type/portal/">{% trans "Relation types settings" %}</a></td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/property_type/portal/">{% trans "Property types settings" %}</a></td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/custom_fields/portal/">{% trans "Custom fields settings" %}</a></td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/blocks/portal/">{% trans "Blocks settings" %}</a></td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}">{% has_perm_to admin 'creme_config' as admin_perm %}
                    {% if admin_perm %}
                        <a href="/creme_config/prefered_menu/edit/">{% trans "Default prefered menu settings" %}</a>
                    {% else %}
                        <span class="forbidden">{% trans "Default prefered menu settings" %}</a>
                    {% endif %}
                </td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/button_menu/portal/">{% trans "Button menu settings" %}</a></td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/search/portal/">{% trans "Search settings" %}</a></td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/history/portal/">{% trans "History settings" %}</a></td>
            </tr>
        </tbody>
    </table>
    <table class="table_detail_view ui-corner-all">
        <thead>
            <tr>
                <th colspan="1">
                    {% trans "Credentials management" %}
                </th>
            </tr>
        </thead>
        <tbody class="collapsable">
            <tr class="content">
                <td class="{% cycle row_color %}"><a href="/creme_config/user/portal/">{% trans "Users settings" %}</a></td>
            </tr>
            <tr class="content">
                <td class="{% cycle row_color %}"> <a href="/creme_config/role/portal/">{% trans "Roles and credentials settings" %}</a> </td>
            </tr>
        </tbody>
    </table>
    <table class="table_detail_view ui-corner-all">
        <thead>
            <tr>
                <th colspan="1">
                    {% trans "Applications portals" %}
                </th>
            </tr>
        </thead>
        <tbody class="collapsable">
            {% for app_conf in app_configs %}
                <tr class="content">
                    <td class="{% cycle row_color %}">{% has_perm_to admin app_conf.name as admin_perm %}
                        {% if admin_perm %}
                            <a href="{{app_conf.portal_url}}">{% blocktrans with app_conf.verbose_name as app_name%}{{app_name}} configuration portal{% endblocktrans %}</a>
                        {% else %}
                            <span class="forbidden">{% blocktrans with app_conf.verbose_name as app_name%}{{app_name}} configuration portal{% endblocktrans %}</span>
                        {% endif %}
                    </td>
                </tr>
            {% empty %}
                <tr class="content empty">
                    <td class="{% cycle row_color %}">{% trans "No application requires configuration" %}</td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}

{% block statistics %}{% endblock %}
{% block extra_infos %}{% endblock %}
